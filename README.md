# Библиотека фильмов

Полнофункциональный сайт-библиотека фильмов на Next.js с использованием SQLite и Tailwind CSS.

## Требования

- **Node.js** версии 18.x или 20.x (рекомендуется 20 LTS)
  - Node.js 24+ требует C++20, что может вызвать проблемы с компиляцией better-sqlite3
- **npm** или **yarn**

## Установка

1. Установите зависимости:
```bash
npm install
```

2. **Установите утилиту m2t для конвертации magnet-ссылок в торрент-файлы:**
```bash
npm install -g m2t
```
   Или если вы хотите установить локально в проект:
```bash
npm install m2t
```
   **Важно:** Без установки m2t функция скачивания торрент-файлов не будет работать!

**Примечание:** Если возникают проблемы с компиляцией `better-sqlite3` на Windows:

- **Вариант 1 (рекомендуется):** Используйте Node.js версии 20.x LTS вместо 24.x
  - Скачайте с [nodejs.org](https://nodejs.org/)

- **Вариант 2:** Убедитесь, что у вас установлены Visual Studio Build Tools с поддержкой C++20
  - Установите "Desktop development with C++" из Visual Studio Installer
  - Выберите последнюю версию набора инструментов MSVC

2. Запустите сервер разработки:
```bash
npm run dev
```

3. Откройте [https://cinetorrent.ru](https://cinetorrent.ru) в браузере

## Сборка для продакшена

```bash
npm run build
npm start
```

## Структура проекта

- `lib/db.js` - Модуль для работы с SQLite базами данных
- `components/` - Переиспользуемые компоненты React
- `pages/` - Страницы Next.js (Pages Router)
- `styles/globals.css` - Глобальные стили с Tailwind CSS

## Особенности

- ✅ Server-Side Rendering (SSR) - страницы генерируются на сервере при каждом запросе
- ✅ Адаптивный дизайн
- ✅ Поиск фильмов в реальном времени по всей базе данных
- ✅ Максимальная SEO-оптимизация (Open Graph, Twitter Cards, JSON-LD, sitemap.xml)
- ✅ Русский интерфейс
- ✅ Быстрая сборка проекта (не требуется генерация всех страниц заранее)
- ✅ Конвертация magnet-ссылок в торрент-файлы через m2t
- ✅ Автоматический sitemap.xml и robots.txt
- ✅ Домен: cinetorrent.ru

